import{j as z,k as y,z as I,l as F,f as D,c as i,a as o,F as p,s as g,y as k,o as a,x as T,t as d,m as C,n as L,B as N,d as x,C as S}from"./DKbX2erc.js";import{u as A}from"./piuXHmzD.js";const U={class:"inhalt","aria-label":"Glossar der Fachbegriffe zur Barrierefreiheit"},W={"aria-label":"Alphabet Navigation",class:"alphabet-nav mt-4"},G=["disabled","onClick","aria-disabled","aria-label"],V=["id","aria-labelledby"],j=["id"],O=["id"],P={class:"definition-list"},Y=["id"],H=["onClick","aria-expanded"],M=["id"],Z=["id","aria-labelledby"],J={key:0,class:"additional-info"},K=["href"],ee=z({__name:"glossar",async setup(Q){let h,b;const f=y(null);I(async()=>{const n=decodeURIComponent(window.location.hash.slice(1));if(!n)return;const e=await B(n);if(!e)return;const t=e.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,r=20*parseFloat(getComputedStyle(document.documentElement).fontSize);window.scrollTo({top:t.top+s-r,behavior:"smooth"}),e.classList.add("highlighted"),setTimeout(()=>e.classList.remove("highlighted"),2e3)});async function B(n,e=5e3){let s=0;return new Promise((u,r)=>{const w=()=>{const _=document.getElementById(n);if(_)return u(_);if(s+=50,s>=e)return r(`Element #${n} nicht gefunden`);setTimeout(w,50)};w()})}const{data:v}=([h,b]=F(async()=>A("definitionen",async()=>{const e=await fetch("/data/definitionen.json");if(!e.ok)throw new Error("Fehler beim Laden");return await e.json()})),h=await h,b(),h),m="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),c=D(()=>{const n={};for(const e of m)n[e]=v.value?.filter(t=>t.title?.toUpperCase().startsWith(e))||[];return n}),l=y({});async function $(n){if(l.value[n]=!l.value[n],l.value[n]){await S();const e=v.value?.find(t=>t.id===n);e&&f.value&&(f.value.textContent=`Definition von ${e.title}: ${e.description}`)}}function E(n){const e=document.getElementById(n);if(e){const t=e.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,u=window.innerHeight/3;window.scrollTo({top:t.top+s-u,behavior:"smooth"});const r=document.getElementById(`focus-${n}`);r&&setTimeout(()=>{r.focus()},500)}}const R=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(n,e)=>(a(),i("main",U,[e[3]||(e[3]=o("h1",{class:"text-6xl font-bold"},"Wörterbuch",-1)),e[4]||(e[4]=o("p",{class:"glossar-description"}," Im Wörterbuch findest du wichtige Begriffe, Gesetze und Richtlinien rund um das Thema Barrierefreiheit. Es hilft dir dabei, Fachausdrücke besser zu verstehen und Zusammenhänge einzuordnen, egal ob du neu im Thema bist oder gezielt etwas nachschlagen möchtest. ",-1)),o("nav",W,[e[0]||(e[0]=o("a",{href:"#glossar-inhalt",class:"skip-link"},"Direkt zum Glossar springen",-1)),(a(!0),i(p,null,g(k(m),t=>(a(),i("button",{key:t,disabled:!c.value[t]?.length,class:T(["alphabet-button",{disabled:!c.value[t]?.length}]),onClick:s=>E(t),"aria-disabled":!c.value[t]?.length,"aria-label":`Springe zu Begriffen mit ${t}`},d(t),11,G))),128))]),(a(!0),i(p,null,g(k(m),t=>(a(),i("div",{key:t,id:"glossar-inhalt"},[c.value[t]?.length?(a(),i("section",{key:0,id:t,class:"definition-section","aria-labelledby":`heading-${t}`},[o("div",{id:`focus-${t}`,tabindex:"-1",class:"sr-only"},d(t)+" Abschnitt beginnt hier. ",9,j),o("h2",{id:`heading-${t}`,class:"section-heading"},d(t),9,O),o("div",P,[(a(!0),i(p,null,g(c.value[t],s=>(a(),i("article",{id:s.title,key:s.id,class:"definition-card"},[o("button",{class:"definition-header",onClick:u=>$(s.id),"aria-expanded":l.value[s.id]?"true":"false"},[o("p",{class:"definition-title",id:`title-${s.id}`},d(s.title),9,M),o("span",{class:T(["chevron-symbol",{rotated:l.value[s.id]}])}," ▸ ",2)],8,H),e[2]||(e[2]=o("div",{class:"definition-divider"},null,-1)),L(o("div",{id:`desc-${s.id}`,"aria-labelledby":`title-${s.id}`},[x(d(s.description)+" ",1),s.link?(a(),i("div",J,[o("p",null,[e[1]||(e[1]=x(" Weitere Informationen bei ")),o("a",{class:"info-link",href:"#"+s.link},d(s.link),9,K)])])):C("",!0)],8,Z),[[N,l.value[s.id]]])],8,Y))),128))])],8,V)):C("",!0)]))),128)),o("div",{"aria-live":"polite",class:"sr-only",ref_key:"liveRegion",ref:f},null,512),o("button",{class:"scroll-top-button",onClick:R,"aria-label":"Nach oben scrollen"}," ↑ ")]))}});export{ee as default};
